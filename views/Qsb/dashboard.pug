<!doctype html>
html(lang="es")
  head
    
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    
    link(href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet", href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css")
    link(rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css")
    link(rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css")
    <link href="//cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    title Polimetal S.A
    link(rel="stylesheet" href="/stylesheets/styleIndex.css")
  body
   
    
        
        
    
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            
            button#menu-toggle.btn.btn-outline-primary ☰
            img(src="/images/logo.jpg" style="height:90px")
            a(href="/" class="d-block p-1"     )
                    i(class="icon ion-md-home lead") Inicio
            h3(class="navbar-brand") Dashboard - Mes Corriente
            

        </div>
    </nav>
    <div id="sectorCarousel" class="carousel slide" data-bs-ride="carousel" >
        <div class="carousel-item active" data-bs-interval="10000">
            <div class="container">
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Sector</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Accidentes</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Scrap</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Cump Programa</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Disponibilidad</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Disp Molde/Retrabajo</p></div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>INYECCION</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart2"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart3"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart4"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart5"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>TT&CC</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart6"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart7"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart8"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>MECANIZADO</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart9"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart10"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart11"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart12"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart13"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="10000">
            <div class="container">
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Sector</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Accidentes</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Scrap</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Cump Programa</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Disponibilidad</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>Disp Molde/Retrabajo</p></div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>DIAMANTADO</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart14"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart15"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart16"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart17"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart18"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>VENTILADO</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart19"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart20"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart21"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart22"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>PINTURA</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart23"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart24"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart25"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart26"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart27"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="10000">
            <div class="container">
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>LACA</p></div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart28"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart29"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart30"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 100%;">
                            <canvas id="myChart31"></canvas>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart32"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>PRODUCTO TERMINADO</p></div>
                    <div class="col-md-10">
                        <div style="width: 100%; height: 140px;">
                            <canvas id="myChart33"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p>ULTIMO RECLAMO DE CALIDAD</p></div>
                    <div class="col-md-2 d-flex justify-content-center align-items-center"><p id="fecha_calidad"></p></div>
                    <div class="col-md-4 d-flex justify-content-center align-items-center"><p id="desc_calidad"></p></div>
                    <div class="col-md-4 d-flex justify-content-center align-items-center">
                        <img id="imagen_calidad" src="" alt="Imagen de Calidad" style="max-width: 100%;height: 300px;">
                    </div>


                </div>
            </div>
        </div>
    </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#sectorCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#sectorCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>                    
    
    
                   
    script(src="https://code.jquery.com/jquery-3.5.1.js")
    
    script(src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js")
    script(src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js")   
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous")

    script(src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous")
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js" integrity="sha512-JPcRR8yFa8mmCsfrw4TNte1ZvF1e3+1SdGMslZvmrzDYxS69J7J49vkFL8u6u8PlPJK+H3voElBtUCzaXj+6ig==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    script.
        document.addEventListener("DOMContentLoaded", function() {
            const menuToggle = document.getElementById('menu-toggle');
            const sidebarContainer = document.getElementById('sidebar-container');

            menuToggle.addEventListener('click', function() {
                sidebarContainer.classList.toggle('active');
            });
        });
        
        
        document.addEventListener('DOMContentLoaded',function(){
            //Inyeccion
            initChart();
            initChart2();
            initChart3();
            initChart4();
            initChart5();
            //TTCC
            initChart6();
            initChart7();
            initChart8();
            //Mecanizado
            initChart9();
            initChart10();
            initChart11();
            initChart12();
            initChart13();
            //Diamantado
            initChart14();
            initChart15();
            initChart16();
            initChart17();
            initChart18();
            //Ventilado
            initChart19();
            initChart20();
            initChart21();
            initChart22();
            //Pintura
            initChart23();
            initChart24();
            initChart25();
            initChart26();
            initChart27();
            //Laca
            initChart28();
            initChart29();
            initChart30();
            initChart31();
            initChart32();
            //tERMINADO
             initChart33();

            
            
            const currentDate = new Date();
            const currentMonth = currentDate.getMonth() + 1; 
            const currentYear = currentDate.getFullYear();
            //document.getElementById('mes').value = currentMonth;
            //document.getElementById('year').value = currentYear;
            updateChart(currentMonth, currentYear);

         
            function initChart() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart').getContext("2d");
                let chart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max:3,
                                ticks: {
                                    stepSize: 1
                                }
                            }
                        }
                    },
                    
                });

                return chart;
            }
            function initChart2() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart2').getContext("2d");
                let chart2 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max:11,
                                min:2,
                                ticks: {
                                    stepSize: 0.5
                                }
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart2;
            }
            function initChart3() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart3').getContext("2d");
                let chart3 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart3;
            }
            function initChart4() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart4').getContext("2d");
                let chart4 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1,
                            
                        },
                        {
                            type: 'line',
                            
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                min:60,
                                max:100,
                                ticks: {
                                    stepSize: 2,
                                }
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart4;
            }
            function initChart5() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart5').getContext("2d");
                let chart5 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad Moldes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                min:80,
                                max:100,
                                ticks: {
                                    stepSize: 1,
                                }
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart5;
            }
            //TTCC
            function initChart6() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart6').getContext("2d");
                let chart6 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            borderRadius:0,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                                max:3,
                                ticks: {
                                    stepSize: 1,
                                }
                            }
                        },
                    },
                    
                });

                return chart6;
            }
            function initChart7() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart7').getContext("2d");
                let chart7 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                            
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart7;
            }
            function initChart8() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart8').getContext("2d");
                let chart8 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart8;
            }
            //Mecanizado
            function initChart9() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart9').getContext("2d");
                let chart9 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    },
                    
                });

                return chart9;
            }
            function initChart10() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart10').getContext("2d");
                let chart10 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart10;
            }
            function initChart11() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart11').getContext("2d");
                let chart11 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart11;
            }
            function initChart12() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart12').getContext("2d");
                let chart12 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                   
                });

                return chart12;
            }
            function initChart13() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart13').getContext("2d");
                let chart13 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Retrabajo',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart13;
            }
            //Diamantado
            function initChart14() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart14').getContext("2d");
                let chart14 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    },
                    
                });

                return chart14;
            }
            function initChart15() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart15').getContext("2d");
                let chart15 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart15;
            }
            function initChart16() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart16').getContext("2d");
                let chart16 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart16;
            }
            function initChart17() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart17').getContext("2d");
                let chart17 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                   
                });

                return chart17;
            }
            function initChart18() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart18').getContext("2d");
                let chart18 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Retrabajo',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart18;
            }
            //Ventilado
             function initChart19() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart19').getContext("2d");
                let chart19 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    },
                    
                });

                return chart19;
            }
            function initChart20() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart20').getContext("2d");
                let chart20 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1,
                            
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart20;
            }
            function initChart21() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart21').getContext("2d");
                let chart21 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1,
                            
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart21;
            }
            function initChart22() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart22').getContext("2d");
                let chart22 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1,
                            
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart22;
            }
            //Pintura
            function initChart23() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart23').getContext("2d");
                let chart23 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    },
                    
                });

                return chart23;
            }
            function initChart24() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart24').getContext("2d");
                let chart24 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart24;
            }
            function initChart25() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart25').getContext("2d");
                let chart25 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart25;
            }
            function initChart26() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart26').getContext("2d");
                let chart26 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                   
                });

                return chart26;
            }
            function initChart27() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart27').getContext("2d");
                let chart27 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Retrabajo',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart27;
            }
            //Pintura
            function initChart28() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart28').getContext("2d");
                let chart28 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Accidentes',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    },
                    
                });

                return chart28;
            }
            function initChart29() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart29').getContext("2d");
                let chart29 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Scrap',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5,6.5],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart29;
            }
            function initChart30() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart30').getContext("2d");
                let chart30 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Cumplimiento de Programa',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart30;
            }
            function initChart31() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart31').getContext("2d");
                let chart31 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Disponibilidad MTTO',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96],
                            borderWidth: 1,
                            pointRadius:0
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                   
                });

                return chart31;
            }
            function initChart32() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart32').getContext("2d");
                let chart32 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Retrabajo',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart32;
            }
            function initChart33() {
                // Crea el gráfico en la carga de la página
                let ctx = document.getElementById('myChart33').getContext("2d");
                let chart33 = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],
                        datasets: [{
                            label: 'Retrabajo',
                            data: [], // Los datos se actualizarán más tarde
                            borderWidth: 1
                        },
                        {
                            type: 'line',
                            label: 'Objetivo',
                            data: [99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],
                            borderWidth: 1,
                            pointRadius:0,
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        plugins:{
                            legend:{
                                display:false,
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                
                            },
                            x:{
                            beginAtZero: true,
                            stacked:true
                            }
                        }
                    },
                    
                });

                return chart33;
            }
            
            
        })
        
        function updateChart(mes,year){

                function fecha(x){
                    let f = new Date(x);
                    let dia=f.getDate();
                    let mes = f.getMonth()+1;
                    let año = f.getUTCFullYear();
                    let fecha = dia;
                    return fecha
                }
                function fecha2(x){
                    let f = new Date(x);
                    let dia=f.getDate();
                    let mes = f.getMonth()+1;
                    let año = f.getUTCFullYear();
                    let fecha = dia+"/"+mes+"/"+año;
                    return fecha
                }
                
                fetch(`/Qsb/datosMes?mes=${mes}&year=${year}`)
                    .then(response => response.json())
                    .then(datos =>{
                        
                        
                        let chart = Chart.instances[0];
                            chart.data = {
                                labels: datos
                                    .filter(e => e.sector === "Inyeccion")
                                    .map(e => fecha(e.fecha))                              
                                ,
                    
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Inyeccion")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart.update();

                        let chart2 = Chart.instances[1];
                            chart2.data = {
                                labels: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => 4.5),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart2.update(); 

                        let chart3 = Chart.instances[2];
                            chart3.data = {
                                labels: datos
                                    .filter(e => e.sector==="Inyeccion")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart3.update();  

                        let chart4 = Chart.instances[3];
                            chart4.data = {
                                labels: datos
                                    .filter(e => e.sector==="Inyeccion")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => 96),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart4.update();  

                        let chart5 = Chart.instances[4];
                            chart5.data = {
                                labels: datos
                                    .filter(e => e.sector==="Inyeccion")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Inyeccion")
                                        .map(e => e.disp_molde),
                                    label:'Disponibilidad Moldes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos.map(e => 99),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart5.update();
                        //TTCC

                        let chart6 = Chart.instances[5];
                            chart6.data = {
                                labels: datos
                                    .filter(e => e.sector === "TTCC")
                                    .map(e => fecha(e.fecha))                              
                                ,
                    
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "TTCC")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="TTCC")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart6.update();
                        
                        let chart7 = Chart.instances[6];
                            chart7.data = {
                                labels: datos
                                    .filter(e => e.sector==="TTCC")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="TTCC")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="TTCC")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart7.update();  

                        let chart8 = Chart.instances[7];
                            chart8.data = {
                                labels: datos
                                    .filter(e => e.sector==="TTCC")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="TTCC")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="TTCC")
                                        .map(e => 96),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart8.update();

                        //Mecanizado
                        let chart9 = Chart.instances[8];
                            chart9.data = {
                                labels: datos
                                    .filter(e => e.sector === "Mecanizado")
                                    .map(e => fecha(e.fecha))                              
                                ,
                    
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Mecanizado")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart9.update();
                        
                        let chart10 = Chart.instances[9];
                            chart10.data = {
                                labels: datos
                                    .filter(e => e.sector==="Mecanizado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.sector==="Mecanizado" ? 1.2 : 3),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart10.update(); 

                        let chart11 = Chart.instances[10];
                            chart11.data = {
                                labels: datos
                                    .filter(e => e.sector==="Mecanizado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart11.update(); 
                        
                        let chart12 = Chart.instances[11];
                            chart12.data = {
                                labels: datos
                                    .filter(e => e.sector==="Mecanizado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => 95),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart12.update(); 

                        let chart13 = Chart.instances[12];
                            chart13.data = {
                                labels: datos
                                    .filter(e => e.sector==="Mecanizado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.retrabajo),
                                    label:'Retrabajo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Mecanizado")
                                        .map(e => e.sector==="Mecanizado" ? 1.5 : 20),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart13.update();

                        //Diamantado
                        let chart14 = Chart.instances[13];
                            chart14.data = {
                                labels: datos
                                    .filter(e => e.sector === "Diamantado")
                                    .map(e => fecha(e.fecha))                              
                                ,
                    
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Diamantado")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart14.update();
                        
                        let chart15 = Chart.instances[14];
                            chart15.data = {
                                labels: datos
                                    .filter(e => e.sector==="Diamantado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.sector==="Mecanizado" ? 1.2 : 3),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart15.update(); 

                        let chart16 = Chart.instances[15];
                            chart16.data = {
                                labels: datos
                                    .filter(e => e.sector==="Diamantado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart16.update(); 
                        
                        let chart17 = Chart.instances[16];
                            chart17.data = {
                                labels: datos
                                    .filter(e => e.sector==="Diamantado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => 95),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart17.update(); 

                        let chart18 = Chart.instances[17];
                            chart18.data = {
                                labels: datos
                                    .filter(e => e.sector==="Diamantado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.retrabajo),
                                    label:'Retrabajo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Diamantado")
                                        .map(e => e.sector==="Mecanizado" ? 1.5 : 20),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart18.update();

                        //Ventilado
                        let chart19 = Chart.instances[18];
                            chart19.data = {
                                labels: datos
                                    .filter(e => e.sector === "Ventilado")
                                    .map(e => fecha(e.fecha))                              
                                ,
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Ventilado")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Ventilado")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart19.update();
                        
                        let chart20 = Chart.instances[19];
                            chart20.data = {
                                labels: datos
                                    .filter(e => e.sector==="Ventilado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Ventilado")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Ventilado")
                                        .map(e => 3.5),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart20.update(); 

                        let chart21 = Chart.instances[20];
                            chart21.data = {
                                labels: datos
                                    .filter(e => e.sector==="Ventilado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Ventilado")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Ventilado")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart21.update();

                        let chart22 = Chart.instances[21];
                            chart22.data = {
                                labels: datos
                                    .filter(e => e.sector ==="Ventilado")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector ==="Ventilado")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector ==="Ventilado")
                                        .map(e => 85),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart22.update(); 

                        //Pintura
                        let chart23 = Chart.instances[22];
                            chart23.data = {
                                labels: datos
                                    .filter(e => e.sector === "Pintura")
                                    .map(e => fecha(e.fecha))                              
                                ,
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Pintura")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart23.update();

                        let chart24 = Chart.instances[23];
                            chart24.data = {
                                labels: datos
                                    .filter(e => e.sector==="Pintura")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.sector==="Pintura" ? 1.4 : 0.8),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart24.update(); 

                        let chart25 = Chart.instances[24];
                            chart25.data = {
                                labels: datos
                                    .filter(e => e.sector==="Pintura")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart25.update();

                        let chart26 = Chart.instances[25];
                            chart26.data = {
                                labels: datos
                                    .filter(e => e.sector==="Pintura")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => 85),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart26.update();  

                        let chart27 = Chart.instances[26];
                            chart27.data = {
                                labels: datos
                                .filter(e => e.sector==="Pintura")
                                .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.retrabajo),
                                    label:'Retrabajo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.sector==="Pintura" ? 17 : 20),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart27.update();

                        //Laca
                        let chart28 = Chart.instances[27];
                            chart28.data = {
                                labels: datos
                                    .filter(e => e.sector === "Laca")
                                    .map(e => fecha(e.fecha))                              
                                ,
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector === "Laca")
                                        .map(e => e.accidentes),
                                    label:'Accidentes',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#007bff',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                        align:'top',
                                        font:{
                                            weight:'bold'
                                        },
                                    }
                                },
                                {
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => 0),
                                    
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 4,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                            }
                        chart28.update();

                        let chart29 = Chart.instances[28];
                            chart29.data = {
                                labels: datos
                                    .filter(e => e.sector==="Laca")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => e.scrap),
                                    label:'Scrap',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => e.sector==="Pintura" ? 1.4 : 0.8),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                }  
                        chart29.update(); 

                        let chart30 = Chart.instances[29];
                            chart30.data = {
                                labels: datos
                                    .filter(e => e.sector==="Laca")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => e.c_programa),
                                    label:'Cumplimiento de Programa',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => 100),
                                   
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart30.update();

                        let chart31 = Chart.instances[30];
                            chart31.data = {
                                labels: datos
                                    .filter(e => e.sector==="Laca")
                                    .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Pintura")
                                        .map(e => e.disponibilidad),
                                    label:'Disponibilidad MTTO',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => 85),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart31.update();  

                        let chart32 = Chart.instances[31];
                            chart32.data = {
                                labels: datos
                                .filter(e => e.sector==="Laca")
                                .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => e.retrabajo),
                                    label:'Retrabajo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Laca")
                                        .map(e => e.sector==="Pintura" ? 17 : 20),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart32.update();

                        let chart33 = Chart.instances[32];
                            chart33.data = {
                                labels: datos
                                .filter(e => e.sector==="Logistica")
                                .map(e => fecha(e.fecha)),
                                
                                datasets: [{
                                    data: datos
                                        .filter(e => e.sector==="Logistica")
                                        .map(e => e.entregas),
                                    label:'Retrabajo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: '#007bff',
                                    borderColor: '#007bff',
                                    borderWidth: 1,
                                    borderRadius:5,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    offset:'top',
                                    anchor:'end',
                                    font:{
                                        weight:'bold',
                                        
                                    }
                                    }
                                
                                },
                            
                                {
                                    data: datos
                                        .filter(e => e.sector==="Logistica")
                                        .map(e => 100),
                                    label:'Objetivo',
                                    type:'line',
                                    lineTension: 0,
                                    backgroundColor: 'transparent',
                                    borderColor: '#990606',
                                    borderWidth: 2,
                                    pointRadius:0,
                                    pointBackgroundColor: '#007bff',
                                    datalabels:{
                                    display:false
                                    }
                                }],
                                
                                
                                } 
                        chart33.update();

                        //document.getElementById('fecha_calidad').innerText = data.filter(e => e.sector==="Calidad").map(e => e.fecha);
                        //document.getElementById('desc_calidad').innerText = data.descripcion;
                        const calidadDatos = datos.filter(e => e.sector === "Calidad");

                        // Encuentra el objeto con la fecha más reciente
                        const datoMasReciente = calidadDatos.reduce((latest, item) => {
                        const fechaActual = new Date(item.fecha);
                        return fechaActual > new Date(latest.fecha) ? item : latest;
                        }, { fecha: '1970-01-01' }); // Objeto inicial con fecha antigua

                        // Extrae la fecha, descripción y URL de la imagen
                        const fechaMasReciente = fecha2(datoMasReciente.fecha);
                        const descripcion = datoMasReciente.ret_laca; // Asumiendo que la descripción está en 'observaciones'
                        const imagenUrl = `/${datoMasReciente.sc_laca}`; // Asumiendo que el nombre del archivo está en 'sc_laca'
                        console.log(datoMasReciente.sc_laca)
                        console.log(imagenUrl)
                        // Actualiza el elemento HTML
                        document.getElementById('fecha_calidad').innerText = fechaMasReciente;
                        document.getElementById('desc_calidad').innerText = descripcion;

                        // Actualiza la imagen
                        const imagenElemento = document.getElementById('imagen_calidad');
                        if (imagenElemento) {
                        imagenElemento.src = imagenUrl;
                        imagenElemento.style.display = 'block'; // Asegúrate de que la imagen sea visible
                        }

                    })
            }  

